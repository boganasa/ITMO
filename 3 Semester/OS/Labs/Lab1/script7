#! /bin/bash
#h - не дает выдать файл с именем сопоставимой строки перед сообственной строкой
#s - подавляет выдачу сообщений о недопустимых файлах
#w - ищет выражение как слово если бы оно было окружено метасимволами \< и \>
#E - расширенное регулярное выражение
#о - выводим только совпадение
mail_adress="[a-zA-Z0-9_.]+@[a-zA-Z0-9_]+(\\.[a-zA-Z]+)+"
grep -Ehsow $mail_adress /etc/* | awk '{printf("%s, ",$1)}' | sed -E "s/$mail_adress,\s$//g" > emails.lst
